define("mod_mootimeter/reload_page_on_state_change",["exports","mod_mootimeter/reload_page"],(function(_exports,_reload_page){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;_exports.init=id=>{document.getElementById("mootimeterstate").dataset.pageid&&setTimeout((()=>{const intervalms=document.getElementById("mootimeterstate").dataset.refreshinterval,interval=setInterval((()=>{document.getElementById(id)?reloadPageOnStateChange():clearInterval(interval)}),intervalms)}),2500)};const reloadPageOnStateChange=()=>{const mtmstate=document.getElementById("mootimeterstate");if(mtmstate.dataset.lastupdated==mtmstate.dataset.contentchangedat)return;const queryString=window.location.search,cmid=new URLSearchParams(queryString).get("id");(0,_reload_page.execReloadPage)(mtmstate.dataset.pageid,cmid,mtmstate.dataset),document.getElementById("mootimeterstate").setAttribute("data-lastupdated",mtmstate.dataset.contentchangedat)}}));

//# sourceMappingURL=reload_page_on_state_change.min.js.map