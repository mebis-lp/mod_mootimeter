define("mod_mootimeter/utils",["exports","core/notification","core/templates","core/ajax"],(function(_exports,_notification,_templates,_ajax){var obj;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.setGetParam=_exports.renderInfoBox=_exports.removeInfoBox=_exports.removeGetParam=_exports.getGetParams=_exports.delay=_exports.ajaxRequestInput=void 0,_templates=(obj=_templates)&&obj.__esModule?obj:{default:obj};_exports.renderInfoBox=async(apendtoelementid,infoboxid,notificationType,notificationString)=>{const context={notification_id:infoboxid,notification_type:notificationType,notification_icon:"fa-exclamation",notification_text:notificationString};_templates.default.renderForPromise("mod_mootimeter/elements/snippet_notification",context).then((_ref=>{let{html:html,js:js}=_ref;return _templates.default.appendNodeContents("#"+apendtoelementid,html,js),!0})).catch((error=>(0,_notification.exception)(error)))};_exports.removeInfoBox=async infoboxid=>{var infobox=document.getElementById(infoboxid);infobox&&infobox.remove()};_exports.setGetParam=(key,value)=>{if(history.pushState){var params=new URLSearchParams(window.location.search);params.set(key,value);var newUrl=window.location.origin+window.location.pathname+"?"+params.toString();window.history.pushState({path:newUrl},"",newUrl)}};_exports.getGetParams=function(){let url=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location,params={};return new URL(url).searchParams.forEach((function(val,key){params[key]=val})),params};_exports.removeGetParam=parameter=>{var url=document.location.href,urlparts=url.split("?");if(urlparts.length>=2){for(var urlBase=urlparts.shift(),queryString=urlparts.join("?"),prefix=encodeURIComponent(parameter)+"=",pars=queryString.split(/[&;]/g),i=pars.length;i-- >0;)-1!==pars[i].lastIndexOf(prefix,0)&&pars.splice(i,1);url=urlBase+"?"+pars.join("&"),window.history.pushState("",document.title,url)}return url};_exports.ajaxRequestInput=(ajaxmethode,pageid,inputname,inputvalue,thisDataset)=>(0,_ajax.call)([{methodname:ajaxmethode,args:{pageid:pageid,inputname:inputname,inputvalue:inputvalue,thisDataset:thisDataset}}])[0];_exports.delay=ms=>new Promise((resolve=>setTimeout(resolve,ms)))}));

//# sourceMappingURL=utils.min.js.map