define("mod_mootimeter/handler_input_number",["exports","core/ajax","core/log","mod_mootimeter/reload_page"],(function(_exports,_ajax,_log,_reload_page){var obj;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_log=(obj=_log)&&obj.__esModule?obj:{default:obj};_exports.init=uniqueID=>{var up=document.getElementById("up_"+uniqueID),down=document.getElementById("down_"+uniqueID);function store(obj,id){var pageid=obj.dataset.pageid,ajaxmethode=obj.dataset.ajaxmethode,inputname=obj.dataset.name,inputvalue=document.getElementById(id).value,thisDataset=JSON.stringify(obj.dataset);setINState(ajaxmethode,pageid,inputname,inputvalue,thisDataset)}up&&up.addEventListener("click",(function(){var id=this.dataset.id;Math.floor(document.getElementById(id).dataset.min)<=Math.floor(document.getElementById(id).value)+1&&(document.getElementById(id).value=Math.floor(document.getElementById(id).value)+1,store(this,id))})),down&&down.addEventListener("click",(function(){var id=this.dataset.id;Math.floor(document.getElementById(id).dataset.min)<=Math.floor(document.getElementById(id).value)-1&&(document.getElementById(id).value=Math.floor(document.getElementById(id).value)-1,store(this,id))}))};const setINState=async(ajaxmethode,pageid,inputname,inputvalue,thisDataset)=>{const response=await((ajaxmethode,pageid,inputname,inputvalue,thisDataset)=>(0,_ajax.call)([{methodname:ajaxmethode,args:{pageid:pageid,inputname:inputname,inputvalue:inputvalue,thisDataset:thisDataset}}])[0])(ajaxmethode,pageid,inputname,inputvalue,thisDataset);if(200!=response.code&&_log.default.error(response.string),200==response.code){const queryString=window.location.search,cmid=new URLSearchParams(queryString).get("id");(0,_reload_page.execReloadPage)(pageid,cmid,thisDataset)}}}));

//# sourceMappingURL=handler_input_number.min.js.map