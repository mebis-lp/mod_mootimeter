{"version":3,"file":"remove_answer_option.min.js","sources":["../src/remove_answer_option.js"],"sourcesContent":["import {call as fetchMany} from 'core/ajax';\nimport Log from 'core/log';\n\nexport const init = (id) => {\n\n    // Get all up elements.\n    const ao = document.getElementById(id);\n\n    if (!ao) {\n        return;\n    }\n\n    ao.addEventListener(\"click\", remove);\n\n    /**\n     * Create new page.\n     */\n    function remove() {\n        const pageid = this.dataset.pageid;\n        const aoid = this.dataset.aoid;\n        removeAnswerOption(pageid, aoid);\n    }\n};\n\n/**\n * Call to remove an answer option\n * @param {int} pageid\n * @param {int} aoid\n * @returns {mixed}\n */\nconst execRemoveAnswerOption = (\n    pageid,\n    aoid,\n) => fetchMany([{\n    methodname: 'mootimetertool_quiz_remove_answeroption',\n    args: {\n        pageid,\n        aoid\n    },\n}])[0];\n\n/**\n * Executes the call to remove an answer option.\n * @param {int} pageid\n * @param {int} aoid\n */\nconst removeAnswerOption = async(pageid, aoid) => {\n    const response = await execRemoveAnswerOption(pageid, aoid);\n    if (response.code != 200) {\n        Log.error(response.string);\n    }\n\n    if (response.code == 200) {\n        document.getElementById('ao_wrapper_' + aoid).remove();\n        document.getElementById('wrapper_ao_' + aoid).remove();\n    }\n};\n"],"names":["id","ao","document","getElementById","addEventListener","pageid","this","dataset","aoid","removeAnswerOption","async","response","methodname","args","execRemoveAnswerOption","code","error","string","remove"],"mappings":"yQAGqBA,WAGXC,GAAKC,SAASC,eAAeH,IAE9BC,IAILA,GAAGG,iBAAiB,0BAMVC,OAASC,KAAKC,QAAQF,OACtBG,KAAOF,KAAKC,QAAQC,KAC1BC,mBAAmBJ,OAAQG,gBA0B7BC,mBAAqBC,MAAML,OAAQG,cAC/BG,cAjBqB,EAC3BN,OACAG,QACC,cAAU,CAAC,CACZI,WAAY,0CACZC,KAAM,CACFR,OAAAA,OACAG,KAAAA,SAEJ,GAQuBM,CAAuBT,OAAQG,MACjC,KAAjBG,SAASI,mBACLC,MAAML,SAASM,QAGF,KAAjBN,SAASI,OACTb,SAASC,eAAe,cAAgBK,MAAMU,SAC9ChB,SAASC,eAAe,cAAgBK,MAAMU"}